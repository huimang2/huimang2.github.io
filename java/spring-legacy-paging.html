<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>스프링 레거시(Spring legacy) - 페이징</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- 웹 폰트 설정 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/css/custom.css" />
    

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- syntax.css -->
    <link rel="stylesheet" href="/assets/css/syntax.css">
    
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="프로그래밍 노트" />
    <link rel="shortcut icon" href="https://huimang2.github.io/assets/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://huimang2.github.io/java/spring-legacy-paging" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Rubisco's Programming Note" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="스프링 레거시(Spring legacy) - 페이징" />
    <meta property="og:description" content="저번 글에 이어서 board 모듈에 페이징 기능을 넣어보겠습니다. 스프링 부트에서는 JPA의 Pageable 인터페이스를 통해 쉽게 구현할 수 있지만 레거시에서는 객체를 만들어야합니다. DTO 작성 우선 페이징 기능과 관련된 데이터를 가지는 PageDTO를 작성하도록 하겠습니다. 다형성을 위해 제네릭으로 작성했습니다. page는 현재 페이지를, size는 한 페이지에 출력되는 리스트의 크기를 나타냅니다. 두 데이터는 클라이언트로부터 요청받을" />
    <meta property="og:url" content="https://huimang2.github.io/java/spring-legacy-paging" />
    <meta property="og:image" content="https://huimang2.github.io/assets/images/spring-legacy/logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2022-10-25T06:00:00+09:00" />
    <meta property="article:modified_time" content="2022-10-25T06:00:00+09:00" />
    <meta property="article:tag" content="Java" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="스프링 레거시(Spring legacy) - 페이징" />
    <meta name="twitter:description" content="저번 글에 이어서 board 모듈에 페이징 기능을 넣어보겠습니다. 스프링 부트에서는 JPA의 Pageable 인터페이스를 통해 쉽게 구현할 수 있지만 레거시에서는 객체를 만들어야합니다. DTO 작성 우선 페이징 기능과 관련된 데이터를 가지는 PageDTO를 작성하도록 하겠습니다. 다형성을 위해 제네릭으로 작성했습니다. page는 현재 페이지를, size는 한 페이지에 출력되는 리스트의 크기를 나타냅니다. 두 데이터는 클라이언트로부터 요청받을" />
    <meta name="twitter:url" content="https://huimang2.github.io/" />
    <meta name="twitter:image" content="https://huimang2.github.io/assets/images/spring-legacy/logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Rubisco's Programming Note" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Java" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Rubisco's Programming Note",
        "logo": "https://huimang2.github.io/"
    },
    "url": "https://huimang2.github.io/java/spring-legacy-paging",
    "image": {
        "@type": "ImageObject",
        "url": "https://huimang2.github.io/assets/images/spring-legacy/logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://huimang2.github.io/java/spring-legacy-paging"
    },
    "description": "저번 글에 이어서 board 모듈에 페이징 기능을 넣어보겠습니다. 스프링 부트에서는 JPA의 Pageable 인터페이스를 통해 쉽게 구현할 수 있지만 레거시에서는 객체를 만들어야합니다. DTO 작성 우선 페이징 기능과 관련된 데이터를 가지는 PageDTO를 작성하도록 하겠습니다. 다형성을 위해 제네릭으로 작성했습니다. page는 현재 페이지를, size는 한 페이지에 출력되는 리스트의 크기를 나타냅니다. 두 데이터는 클라이언트로부터 요청받을"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="스프링 레거시(Spring legacy) - 페이징" href="/feed.xml" />


    <!-- MathJax -->
    

</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://huimang2.github.io/">Rubisco's Programming Note</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-java" role="menuitem"><a href="/tag/java/">JAVA</a></li>
    <li class="nav-typescript" role="menuitem"><a href="/tag/typescript/">Typescript</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/algorithm/">Algorithm</a></li>
    <li class="nav-python" role="menuitem"><a href="/archive.html">All Posts</a></li>
    <li class="nav-python" role="menuitem"><a href="/author_archive.html">Tag별 Posts</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-java tag-spring post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="25 October 2022">25 October 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                                
                                <a href='/tag/java/'>#JAVA</a>,&nbsp;
                                
                            
                        
                            
                                
                                <a href='/tag/spring/'>#SPRING</a>
                                
                            
                        
                    
                </section>
                <h1 class="post-full-title">스프링 레거시(Spring legacy) - 페이징</h1>
            </header>

            <!-- 
            <figure class="post-full-image" style="background-image: url(/assets/images/spring-legacy/logo.png)">
            </figure>
             -->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <div id="toc">
                        <ul><li><a href="#dto-작성"><span>DTO 작성</span></a></li><li><a href="#매퍼-수정"><span>매퍼 수정</span></a></li><li><a href="#dao-수정"><span>DAO 수정</span></a></li><li><a href="#service-수정"><span>Service 수정</span></a></li><li><a href="#컨트롤러-수정"><span>컨트롤러 수정</span></a></li><li><a href="#뷰-템플릿-작성"><span>뷰 템플릿 작성</span></a></li><li><a href="#소스코드"><span>소스코드</span></a></li></ul>

                    </div>
                    <p>저번 글에 이어서 board 모듈에 페이징 기능을 넣어보겠습니다. 스프링 부트에서는 JPA의 Pageable 인터페이스를 통해 쉽게 구현할 수 있지만 레거시에서는 객체를 만들어야합니다.</p>

<h1 id="dto-작성">DTO 작성</h1>

<p>우선 페이징 기능과 관련된 데이터를 가지는 PageDTO를 작성하도록 하겠습니다.</p>

<p align="center"><img src="/assets/images/spring-legacy/img25.png" alt="img25" /></p>

<p>다형성을 위해 제네릭으로 작성했습니다.</p>

<p><code class="language-plaintext highlighter-rouge">page</code>는 현재 페이지를, <code class="language-plaintext highlighter-rouge">size</code>는 한 페이지에 출력되는 리스트의 크기를 나타냅니다. 두 데이터는 클라이언트로부터 요청받을 수 있는 데이터입니다.</p>

<p><code class="language-plaintext highlighter-rouge">totalSize</code>는 한 테이블의 전체 튜플수를 저장하고, <code class="language-plaintext highlighter-rouge">contentList</code>는 한 페이지에 포함된 튜플 리스트를 저장합니다. 두 데이터는 DAO를 통해 DB로부터 전달받는 데이터 입니다.</p>

<p>4개의 데이터는 유저의 요청과 응답을 저장해야하므로 setter를 만들어야 합니다.</p>

<p><code class="language-plaintext highlighter-rouge">pageSize</code>는 한 페이지에 출력할 페이지 네비게이션의 크기를 나타냅니다. 저는 계산용도로 고정값으로 설정할 예정이므로 static 키워드를 통해 정적변수로 선언하고 final 키워드를 통해 재할당이 불가능하도록 만들었습니다.</p>

<p><code class="language-plaintext highlighter-rouge">totalPage</code>는 전체 페이지의 수를 나타냅니다. <code class="language-plaintext highlighter-rouge">hasPrev</code>는 이전 페이지의 존재 여부를 나타내고, <code class="language-plaintext highlighter-rouge">hasNext</code>는 다음 페이지의 존재 여부를 나타냅니다. <code class="language-plaintext highlighter-rouge">firstPage</code>와 <code class="language-plaintext highlighter-rouge">lastPage</code>는 한 페이지 내에서 출력되는 페이지 네비게이션의 첫번째 페이지와 마지막 페이지 번호를 나타내고, <code class="language-plaintext highlighter-rouge">first</code>와 <code class="language-plaintext highlighter-rouge">last</code>는 한 페이지에 출력되는 튜플 중 첫번째 튜플과 마지막 튜플의 순서를 나타냅니다. 이 값들은 계산을 통해 출력만 가능하도록 멤버변수의 선언 없이 getter만 만들 예정입니다.</p>

<p>마지막으로 프론트에서 url을 간편하게 출력할 수 있도록 getUrl 메소드를 만들었습니다. 매개변수로 base 주소와 페이지 번호를 주입받습니다.</p>

<p>클래스 다이어그램을 참고하여 아래와 같이 DTO를 작성합시다.</p>

<h6 id="krorubiscodtopagedtojava">/kro/rubisco/dto/PageDTO.java</h6>
<div data-lang="JAVA" class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">kro.rubisco.dto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>

<span class="nd">@Getter</span>
<span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PageDTO</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">pageSize</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">page</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">totalSize</span><span class="o">;</span>
    
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">contentList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;();</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getPage</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">page</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">page</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getTotalPage</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span><span class="nc">Math</span><span class="o">.</span><span class="na">ceil</span><span class="o">((</span><span class="kt">double</span><span class="o">)</span><span class="n">totalSize</span><span class="o">/</span><span class="n">size</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getHasPrev</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">page</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getHasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">page</span> <span class="o">&gt;=</span> <span class="n">getTotalPage</span><span class="o">()</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getFirstPage</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">((</span><span class="n">getPage</span><span class="o">()-</span><span class="mi">1</span><span class="o">)/</span><span class="n">pageSize</span><span class="o">|</span><span class="mi">0</span><span class="o">)*</span><span class="n">pageSize</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getLastPage</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">long</span> <span class="n">lastPage</span> <span class="o">=</span> <span class="o">((</span><span class="n">getPage</span><span class="o">()-</span><span class="mi">1</span><span class="o">)/</span><span class="n">pageSize</span><span class="o">|</span><span class="mi">0</span><span class="o">)*</span><span class="n">pageSize</span> <span class="o">+</span> <span class="n">pageSize</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">lastPage</span> <span class="o">&lt;</span> <span class="n">getTotalPage</span><span class="o">()</span> <span class="o">?</span> <span class="n">lastPage</span> <span class="o">:</span> <span class="n">getTotalPage</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getFirst</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">long</span> <span class="n">first</span> <span class="o">=</span> <span class="o">(</span><span class="n">getPage</span><span class="o">()-</span><span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="n">size</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">first</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span><span class="o">:</span> <span class="n">first</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getLast</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">getFirst</span><span class="o">()</span> <span class="o">+</span> <span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getUrl</span><span class="o">(</span><span class="nc">String</span> <span class="n">base</span><span class="o">,</span> <span class="kt">long</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">size</span> <span class="o">!=</span> <span class="mi">10</span><span class="o">)</span> <span class="n">base</span> <span class="o">+=</span> <span class="s">"?page="</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">"&amp;size="</span> <span class="o">+</span> <span class="n">size</span><span class="o">;</span>
        <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="n">base</span> <span class="o">+=</span> <span class="s">"?page="</span> <span class="o">+</span> <span class="n">i</span><span class="o">;</span>
        <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">size</span> <span class="o">!=</span> <span class="mi">10</span><span class="o">)</span> <span class="n">base</span> <span class="o">+=</span> <span class="s">"?size="</span> <span class="o">+</span> <span class="n">size</span><span class="o">;</span>
        
        <span class="k">return</span> <span class="n">base</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h1 id="매퍼-수정">매퍼 수정</h1>

<p>boardDTO의 목록을 불러오는 listAll select 쿼리문을 다음과 같이 수정하겠습니다.</p>

<h6 id="boardmapperxml">boardMapper.xml</h6>
<div data-lang="XML" class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
<span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"listAll"</span> <span class="na">resultMap=</span><span class="s">"getBoardList"</span><span class="nt">&gt;</span>
<span class="cp">&lt;![CDATA[
select * 
from (
    select rownum num, b.*
    from (
        select * from board 
        where document_id &gt;</span> 0
        order by document_id desc
    ) b
    where rownum <span class="err">&lt;</span>= #{last}
)
where num &gt;= #{first}
]]&gt;
<span class="nt">&lt;/select&gt;</span>
...
</code></pre></div></div>

<p>저는 오라클 DB를 사용하기 때문에 limit를 사용하여 페이징 처리를 하지못하여 <code class="language-plaintext highlighter-rouge">rownum</code>을 사용해서 페이징 처리를 했습니다.</p>

<p>rownum을 통해 페이징 처리를 하면 order by를 통해 정렬을 하기 전에 rownum 컬럼을 가진 튜플이 먼저 select되어 원하는 순서대로 페이징 처리가 되지 않으므로, 우선 서브쿼리를 통해 정렬한 테이블을 생성한 후 rownum 컬럼을 가진 튜플을 select하도록 쿼리문을 작성합니다.</p>

<p>select된 튜플은 지난번에 작성한 <code class="language-plaintext highlighter-rouge">getBoardList</code> resultMap을 통해 매핑되도록 합니다.</p>

<p>하나의 쿼리문을 통해 totalSize와 contentList를 한꺼번에 가져오려했지만 실패하여 2개의 쿼리문으로 나누어 아래와 같이 튜플의 전체 수를 출력하는 쿼리문을 작성합니다.</p>

<h6 id="boardmapperxml-1">boardMapper.xml</h6>
<div data-lang="XML" class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
<span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"getCount"</span> <span class="na">resultType=</span><span class="s">"long"</span><span class="nt">&gt;</span>
select count(*) from board where document_id &gt; 0
<span class="nt">&lt;/select&gt;</span>
...
</code></pre></div></div>

<h1 id="dao-수정">DAO 수정</h1>

<p>위와 같이 작성된 쿼리문은 매개변수로 first와 last를 받고 있습니다. 즉, 파라미터로 BoardDTO 대신에 PageDTO를 주입해야합니다. BoardDAO를 다음과 같이 수정하겠습니다.</p>

<h6 id="krorubiscodaoboarddaojava">/kro/rubisco/dao/BoardDAO.java</h6>
<div data-lang="JAVA" class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">kro.rubisco.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">kro.rubisco.dto.BoardDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.dto.PageDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">BoardDAO</span> <span class="o">{</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">create</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nc">BoardDTO</span> <span class="nf">read</span><span class="o">(</span><span class="nc">Long</span> <span class="n">documentId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">update</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">delete</span><span class="o">(</span><span class="nc">Long</span> <span class="n">documentId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="nf">listAll</span><span class="o">(</span><span class="nc">PageDTO</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="n">boardPage</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getCount</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>listAll 메소드가 BoardDTO 대신에 <code class="language-plaintext highlighter-rouge">PageDTO&lt;BoardDTO&gt;</code> 타입의 프로퍼티를 주입받고, BoardDTO의 리스트를 출력하도록 인터페이스를 수정했습니다. 또한 전체 튜플의 수를 출력하는 <code class="language-plaintext highlighter-rouge">getCount</code> 메소드를 정의했습니다.</p>

<h1 id="service-수정">Service 수정</h1>

<p>BoardDAO의 listAll 메소드를 사용하는 BoardService의 listAll 메소드를 수정하도록 하겠습니다. 우선 인터페이스부터 다음과 같이 변경합니다.</p>

<h6 id="krorubiscoserviceboardservicejava">/kro/rubisco/service/BoardService.java</h6>
<div data-lang="JAVA" class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">kro.rubisco.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">kro.rubisco.dto.BoardDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.dto.PageDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">BoardService</span> <span class="o">{</span>

      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">regist</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>

      <span class="kd">public</span> <span class="nc">BoardDTO</span> <span class="nf">read</span><span class="o">(</span><span class="nc">Long</span> <span class="n">documentId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>

      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">modify</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>

      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">remove</span><span class="o">(</span><span class="nc">Long</span> <span class="n">documentId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
      
      <span class="kd">public</span> <span class="nc">PageDTO</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="nf">listAll</span><span class="o">(</span><span class="nc">PageDTO</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="n">boardPage</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>listAll 메소드가 <code class="language-plaintext highlighter-rouge">PageDTO&lt;BoardDTO&gt;</code> 타입의 매개변수를 받고 동일한 타입을 반환하도록 작성했습니다.</p>

<p>구현체도 수정합니다.</p>

<h6 id="krorubiscoserviceimplboardserviceimpljava">/kro/rubisco/service/impl/BoardServiceImpl.java</h6>
<div data-lang="JAVA" class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">kro.rubisco.service.impl</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.ibatis.session.SqlSession</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">kro.rubisco.dao.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.dto.BoardDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.dto.PageDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.service.BoardService</span><span class="o">;</span>

<span class="nd">@Service</span>
<span class="nd">@Transactional</span><span class="o">(</span><span class="n">readOnly</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardServiceImpl</span> <span class="kd">implements</span> <span class="nc">BoardService</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">BoardDAO</span> <span class="n">boardDAO</span><span class="o">;</span>
    
    <span class="nd">@Autowired</span>
    
    <span class="kd">public</span> <span class="nf">BoardServiceImpl</span><span class="o">(</span><span class="nc">SqlSession</span> <span class="n">sqlSession</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="k">this</span><span class="o">.</span><span class="na">boardDAO</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="nc">BoardDAO</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">regist</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardDAO</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">BoardDTO</span> <span class="nf">read</span><span class="o">(</span><span class="nc">Long</span> <span class="n">documentId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">boardDAO</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">documentId</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">modify</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardDAO</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">remove</span><span class="o">(</span><span class="nc">Long</span> <span class="n">documentId</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardDAO</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">documentId</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">PageDTO</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="nf">listAll</span><span class="o">(</span><span class="nc">PageDTO</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="n">boardPage</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardPage</span><span class="o">.</span><span class="na">setContentList</span><span class="o">(</span><span class="n">boardDAO</span><span class="o">.</span><span class="na">listAll</span><span class="o">(</span><span class="n">boardPage</span><span class="o">));</span>
        <span class="n">boardPage</span><span class="o">.</span><span class="na">setTotalSize</span><span class="o">(</span><span class="n">boardDAO</span><span class="o">.</span><span class="na">getCount</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">boardPage</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">listAll</code> 메소드에서 boardDAO를 통해 select된 <code class="language-plaintext highlighter-rouge">contentList</code>와 <code class="language-plaintext highlighter-rouge">totalSize</code>를 setter로 주입하여 해당 객체를 반환하도록 작성했습니다.</p>

<h1 id="컨트롤러-수정">컨트롤러 수정</h1>

<p>마지막으로 컨트롤러를 수정하겠습니다. <code class="language-plaintext highlighter-rouge">getBoardListView</code> 메소드를 다음과 같이 수정합니다.</p>

<h6 id="krorubiscocontrollerboardcontrollerjava">/kro/rubisco/controller/BoardController.java</h6>
<div data-lang="JAVA" class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">kro.rubisco.controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.DeleteMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PatchMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PathVariable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PostMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestParam</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">kro.rubisco.dto.BoardDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.dto.PageDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.service.BoardService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">kro.rubisco.service.CategoryService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/board"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">BoardService</span> <span class="n">boardService</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">CategoryService</span> <span class="n">categoryService</span><span class="o">;</span>
    
    <span class="nd">@GetMapping</span><span class="o">()</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getBoardListView</span><span class="o">(</span><span class="nc">PageDTO</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="n">boardPage</span><span class="o">,</span> <span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"pageInfo"</span><span class="o">,</span> <span class="n">boardService</span><span class="o">.</span><span class="na">listAll</span><span class="o">(</span><span class="n">boardPage</span><span class="o">));</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"boardList"</span><span class="o">,</span> <span class="n">boardPage</span><span class="o">.</span><span class="na">getContentList</span><span class="o">());</span>
        <span class="k">return</span> <span class="s">"board/getBoardList"</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/{documentId}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getBoardView</span><span class="o">(</span>
        <span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"documentId"</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">documentId</span><span class="o">,</span> 
        <span class="nc">Model</span> <span class="n">model</span>
    <span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"board"</span><span class="o">,</span> <span class="n">boardService</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">documentId</span><span class="o">));</span>
        <span class="k">return</span> <span class="s">"board/getBoard"</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="n">params</span> <span class="o">=</span> <span class="s">"act=write"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getInsertBoardView</span><span class="o">(</span>
        <span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"documentId"</span><span class="o">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">false</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">documentId</span><span class="o">,</span>
        <span class="nc">Model</span> <span class="n">model</span>
    <span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"board"</span><span class="o">,</span> <span class="n">documentId</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">()</span> <span class="o">:</span> <span class="n">boardService</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">documentId</span><span class="o">));</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"categoryList"</span><span class="o">,</span> <span class="n">categoryService</span><span class="o">.</span><span class="na">listAll</span><span class="o">());</span>
        <span class="k">return</span> <span class="s">"board/insertBoard"</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="nd">@PostMapping</span><span class="o">()</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">insertBoard</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardService</span><span class="o">.</span><span class="na">regist</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"redirect:/board/"</span> <span class="o">+</span> <span class="n">board</span><span class="o">.</span><span class="na">getDocumentId</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="nd">@PatchMapping</span><span class="o">(</span><span class="n">params</span> <span class="o">=</span> <span class="s">"documentId"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">updateBoard</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">board</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardService</span><span class="o">.</span><span class="na">modify</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"redirect:/board/"</span> <span class="o">+</span> <span class="n">board</span><span class="o">.</span><span class="na">getDocumentId</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="nd">@DeleteMapping</span><span class="o">(</span><span class="n">params</span> <span class="o">=</span> <span class="s">"documentId"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">deleteBoard</span><span class="o">(</span>
        <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"documentId"</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">documentId</span>
    <span class="o">)</span><span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">boardService</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">documentId</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"redirect:/board"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>PageDTO<BoardDTO> 객체의 contentList 프로퍼티에는 boardService의 listAll 메소드를 통해 사용자가 요청한 페이지의 게시글 목록이 저장됩니다. 이를 모델에 넣고 뷰 이름을 반환하면 view resolver가 뷰 이름에 해당하는 파일을 파싱하여 뷰 객체를 형성합니다.</BoardDTO></p>

<h1 id="뷰-템플릿-작성">뷰 템플릿 작성</h1>

<p>페이징이 되는지 확인하기 위해 간단하게 게시글 목록 템플릿을 작성하겠습니다. 레거시에서는 기본 템플릿 엔진으로 jsp를 사용합니다. jsp는 <code class="language-plaintext highlighter-rouge">Java Server Page</code>의 약자로, HTML 코드 내에 JAVA 코드를 넣기 위해 만들어졌습니다.</p>

<p>뷰의 작성은 추후에 종류별로 알아보도록 하고, 여기에서는 페이징 기능을 확인하기 위해 간단히 템플릿을 작성하겠습니다.</p>

<p>우선 /src/main/webapp/WEB-INF/views/ 경로 아래에 board 폴더를 만들고 getBoardList.jsp 파일을 생성하여 다음과 같이 작성합니다.</p>

<h6 id="srcmainwebappweb-infviewsboardgetboardlistjsp">/src/main/webapp/WEB-INF/views/board/getBoardList.jsp</h6>
<div data-lang="JSP" class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na"> pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">uri=</span><span class="s">"http://java.sun.com/jsp/jstl/core"</span><span class="na"> prefix=</span><span class="s">"c"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"fmt"</span><span class="na"> uri=</span><span class="s">"http://java.sun.com/jsp/jstl/fmt"</span> <span class="nt">%&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ko"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;%@ include </span><span class="na">file=</span><span class="s">"./include/tailwindcss.jsp"</span> <span class="nt">%&gt;</span>
    <span class="nt">&lt;title&gt;</span>게시글 목록<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;main&gt;</span>
    <span class="nt">&lt;h1&gt;</span>게시글 목록<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;article&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;thead&gt;</span>
                <span class="nt">&lt;tr&gt;</span>
                    <span class="nt">&lt;th&gt;&lt;/th&gt;</span>
                    <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>카테고리<span class="nt">&lt;/th&gt;</span>
                    <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span> <span class="na">class=</span><span class="s">"w-full"</span><span class="nt">&gt;</span>제목<span class="nt">&lt;/th&gt;</span>
                    <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>작성자<span class="nt">&lt;/th&gt;</span>
                    <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>등록일<span class="nt">&lt;/th&gt;</span>
                    <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>조회수<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;/thead&gt;</span>
            <span class="nt">&lt;tbody&gt;</span>
            <span class="nt">&lt;c:forEach </span><span class="na">items=</span><span class="s">"</span><span class="si">${</span><span class="n">boardList</span><span class="si">}</span><span class="s">"</span><span class="na"> var=</span><span class="s">"board"</span><span class="na"> step=</span><span class="s">"1"</span><span class="na"> varStatus=</span><span class="s">"status"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;tr&gt;</span>
                    <span class="nt">&lt;td&gt;</span>${pageInfo.totalSize - pageInfo.first - status.index + 1}<span class="nt">&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;</span>${board.category.category}<span class="nt">&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/board/${board.documentId}"</span><span class="nt">&gt;</span>${board.title}<span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;</span>${board.member.nickName}<span class="nt">&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;&lt;fmt:formatDate </span><span class="na">value=</span><span class="s">"</span><span class="si">${</span><span class="n">board</span><span class="o">.</span><span class="na">createDate</span><span class="si">}</span><span class="s">"</span><span class="na"> pattern=</span><span class="s">"yyyy-MM-dd"</span><span class="nt">/&gt;&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;</span>${board.readCount}<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;/c:forEach&gt;</span>
            <span class="nt">&lt;/tbody&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/article&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"flex mt-2 sm:mt-4 lg:w-2/3 w-full mx-auto"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"write"</span> <span class="na">onClick=</span><span class="s">"window.location='/board?act=write'"</span><span class="nt">&gt;</span>쓰기<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;%@ include </span><span class="na">file=</span><span class="s">"./include/pageNav.jsp"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/main&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>tailwindcss를 통해 뷰를 개발했습니다. 상단에는 java를 통해 실행되는 jsp 파일임을 명시하고, 그 아래에는 JSTL을 사용하기 위한 taglib을 작성했습니다. 기본 기능인 core와 포멧팅을 위한 fmt 태그라이브러리를 설정했습니다. 또한 include를 통해 통해 조각으로 나누어 작성했습니다. 타임리프의 fragment 기능과 동일하다고 보면 됩니다.</p>

<p>나머지 include 조각들도 작성하겠습니다.</p>

<h6 id="srcmainwebappweb-infviewsboardincludetailwindcssjsp">/src/main/webapp/WEB-INF/views/board/include/tailwindcss.jsp</h6>
<div data-lang="JSP" class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na"> pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">uri=</span><span class="s">"http://java.sun.com/jsp/jstl/core"</span><span class="na"> prefix=</span><span class="s">"c"</span> <span class="nt">%&gt;</span>

<span class="nt">&lt;style </span><span class="na">type=</span><span class="s">"text/tailwindcss"</span><span class="nt">&gt;</span>
    <span class="nt">main</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">text-gray-600</span> <span class="err">container</span> <span class="err">px-5</span> <span class="err">py-16</span> <span class="err">mx-auto</span><span class="p">}</span>
    <span class="nt">main</span> <span class="o">&gt;</span> <span class="nt">h1</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">flex</span> <span class="err">flex-col</span> <span class="err">text-center</span> <span class="err">w-full</span> <span class="py">sm</span><span class="p">:</span><span class="n">text-4xl</span> <span class="n">text-2xl</span> <span class="n">font-medium</span> <span class="n">mb-5</span> <span class="n">text-gray-900</span><span class="p">}</span>
    <span class="nt">article</span> <span class="p">{</span><span class="err">@apply</span> <span class="py">lg</span><span class="p">:</span><span class="n">w-2</span><span class="p">/</span><span class="m">3</span> <span class="n">w-full</span> <span class="n">mx-auto</span> <span class="n">overflow-auto</span><span class="p">}</span>
    <span class="nt">table</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">table-auto</span> <span class="err">w-full</span> <span class="err">text-xs</span> <span class="py">sm</span><span class="p">:</span><span class="n">text-sm</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">thead</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">th</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">px-2</span> <span class="err">py-2</span> <span class="py">sm</span><span class="p">:</span><span class="n">px-4</span> <span class="n">sm</span><span class="p">:</span><span class="n">py-3</span> <span class="n">tracking-wider</span> <span class="n">font-medium</span> <span class="n">text-gray-900</span> <span class="n">bg-gray-100</span> <span class="n">text-center</span> <span class="n">whitespace-nowrap</span> <span class="n">align-middle</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">thead</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">th</span><span class="nd">:first-of-type</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">rounded-tl</span> <span class="err">rounded-bl</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">thead</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">th</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="err">3</span><span class="o">)</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">text-left</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">thead</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">th</span><span class="nd">:last-of-type</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">rounded-tr</span> <span class="err">rounded-br</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">tbody</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="p">{</span><span class="err">@apply</span> <span class="py">hover</span><span class="p">:</span><span class="n">bg-slate-100</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">tbody</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">px-2</span> <span class="err">py-2</span> <span class="py">sm</span><span class="p">:</span><span class="n">px-4</span> <span class="n">sm</span><span class="p">:</span><span class="n">py-3</span> <span class="n">text-center</span> <span class="n">whitespace-nowrap</span> <span class="n">align-middle</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">tbody</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="err">3</span><span class="o">)</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">p-0</span> <span class="err">text-left</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">tbody</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span> <span class="o">&gt;</span> <span class="nt">a</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">block</span><span class="p">}</span>
    <span class="nt">table</span> <span class="o">&gt;</span> <span class="nt">tbody</span> <span class="o">&gt;</span> <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="err">3</span><span class="o">)</span> <span class="o">&gt;</span> <span class="nt">a</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">px-2</span> <span class="err">py-2</span> <span class="py">sm</span><span class="p">:</span><span class="n">px-4</span> <span class="n">sm</span><span class="p">:</span><span class="n">py-3</span><span class="p">}</span>
    <span class="nt">button</span><span class="nc">.write</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">flex</span> <span class="err">ml-auto</span> <span class="err">text-white</span> <span class="err">text-sm</span> <span class="py">sm</span><span class="p">:</span><span class="n">text-base</span> <span class="n">bg-indigo-500</span> <span class="n">border-0</span> <span class="n">py-1</span> <span class="n">px-3</span> <span class="n">sm</span><span class="p">:</span><span class="n">py-2</span> <span class="n">sm</span><span class="p">:</span><span class="n">px-6</span> <span class="n">focus</span><span class="p">:</span><span class="n">outline-none</span> <span class="n">hover</span><span class="p">:</span><span class="n">bg-indigo-600</span> <span class="n">rounded</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">isolate</span> <span class="err">flex</span> <span class="err">-space-x-px</span> <span class="err">rounded-md</span> <span class="err">mt-2</span> <span class="py">sm</span><span class="p">:</span><span class="n">mt-4</span> <span class="n">lg</span><span class="p">:</span><span class="n">w-2</span><span class="p">/</span><span class="m">3</span> <span class="n">w-full</span> <span class="n">mx-auto</span> <span class="n">justify-center</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">a</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">relative</span> <span class="err">inline-flex</span> <span class="err">items-center</span> <span class="err">border</span> <span class="err">border-gray-300</span> <span class="err">bg-white</span> <span class="err">px-4</span> <span class="err">py-2</span> <span class="err">text-sm</span> <span class="err">font-medium</span> <span class="err">text-gray-500</span> <span class="py">focus</span><span class="p">:</span><span class="n">z-20</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">a</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.active</span><span class="o">)</span> <span class="p">{</span><span class="err">@apply</span> <span class="py">hover</span><span class="p">:</span><span class="n">bg-gray-50</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">a</span><span class="nc">.active</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">pointer-events-none</span> <span class="err">border-indigo-500</span> <span class="err">bg-indigo-50</span> <span class="err">text-indigo-600</span> <span class="err">z-10</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">a</span><span class="nd">:first-of-type</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">px-2</span> <span class="err">rounded-l-md</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">a</span><span class="nd">:last-of-type</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">px-2</span> <span class="err">rounded-r-md</span><span class="p">}</span>
    <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">a</span><span class="nc">.disabled</span> <span class="p">{</span><span class="err">@apply</span> <span class="err">pointer-events-none</span> <span class="err">bg-slate-200</span> <span class="err">text-slate-400</span> <span class="err">border-slate-400</span><span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
</code></pre></div></div>

<h6 id="srcmainwebappweb-infviewsboardincludepagenavjsp">/src/main/webapp/WEB-INF/views/board/include/pageNav.jsp</h6>
<div data-lang="JSP" class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na"> pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">uri=</span><span class="s">"http://java.sun.com/jsp/jstl/core"</span><span class="na"> prefix=</span><span class="s">"c"</span> <span class="nt">%&gt;</span>

<span class="nt">&lt;nav</span> <span class="na">aria-label=</span><span class="s">"Pagination"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;c:choose&gt;</span>
        <span class="nt">&lt;c:when </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">hasPrev</span><span class="si">}</span><span class="s">"</span><span class="nt">&gt;&lt;c:set </span><span class="na">var=</span><span class="s">"url"</span><span class="na"> value=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">getUrl</span><span class="o">(</span><span class="l">'/board'</span><span class="o">,</span> <span class="n">pageInfo</span><span class="o">.</span><span class="na">page</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span><span class="si">}</span><span class="s">"</span> <span class="nt">/&gt;&lt;/c:when&gt;</span>
        <span class="nt">&lt;c:otherwise&gt;&lt;c:set </span><span class="na">var=</span><span class="s">"url"</span><span class="na"> value=</span><span class="s">"#"</span> <span class="nt">/&gt;&lt;/c:otherwise&gt;</span>
    <span class="nt">&lt;/c:choose&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${url}"</span><span class="nt">&lt;c:if </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="o">!</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">hasPrev</span><span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span> <span class="na">class=</span><span class="s">"disabled"</span><span class="nt">&lt;/c:if&gt;&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>Previous<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"h-5 w-5"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/svg"</span> <span class="na">viewBox=</span><span class="s">"0 0 20 20"</span> <span class="na">fill=</span><span class="s">"currentColor"</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">fill-rule=</span><span class="s">"evenodd"</span> <span class="na">d=</span><span class="s">"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z"</span> <span class="na">clip-rule=</span><span class="s">"evenodd"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/svg&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;c:forEach </span><span class="na">var=</span><span class="s">"i"</span><span class="na"> begin=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">firstPage</span><span class="si">}</span><span class="s">"</span><span class="na"> end=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">lastPage</span><span class="si">}</span><span class="s">"</span><span class="na"> step=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${pageInfo.getUrl('/board', i)}"</span><span class="nt">&lt;c:if </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">page</span> <span class="n">eq</span> <span class="n">i</span><span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span><span class="na">aria-current=</span><span class="s">"page"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&lt;/c:if&gt;&gt;</span>${i}<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/c:forEach&gt;</span>
    <span class="nt">&lt;c:choose&gt;</span>
        <span class="nt">&lt;c:when </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">hasNext</span><span class="si">}</span><span class="s">"</span><span class="nt">&gt;&lt;c:set </span><span class="na">var=</span><span class="s">"url"</span><span class="na"> value=</span><span class="s">"</span><span class="si">${</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">getUrl</span><span class="o">(</span><span class="l">'/board'</span><span class="o">,</span> <span class="n">pageInfo</span><span class="o">.</span><span class="na">page</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span><span class="si">}</span><span class="s">"</span> <span class="nt">/&gt;&lt;/c:when&gt;</span>
        <span class="nt">&lt;c:otherwise&gt;&lt;c:set </span><span class="na">var=</span><span class="s">"url"</span><span class="na"> value=</span><span class="s">"#"</span> <span class="nt">/&gt;&lt;/c:otherwise&gt;</span>
    <span class="nt">&lt;/c:choose&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"${url}"</span><span class="nt">&lt;c:if </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="o">!</span><span class="n">pageInfo</span><span class="o">.</span><span class="na">hasNext</span><span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span> <span class="na">class=</span><span class="s">"disabled"</span><span class="nt">&lt;/c:if&gt;&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>Next<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"h-5 w-5"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/svg"</span> <span class="na">viewBox=</span><span class="s">"0 0 20 20"</span> <span class="na">fill=</span><span class="s">"currentColor"</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">fill-rule=</span><span class="s">"evenodd"</span> <span class="na">d=</span><span class="s">"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"</span> <span class="na">clip-rule=</span><span class="s">"evenodd"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/svg&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/nav&gt;</span>
</code></pre></div></div>

<p>DBEver를 통해 예제 데이터 1000개를 입력해줍시다.</p>

<h6 id="테스트-데이터-입력">테스트 데이터 입력</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">BEGIN</span>
    <span class="k">FOR</span> <span class="n">i</span> <span class="k">IN</span> <span class="mi">1</span><span class="p">..</span><span class="mi">1000</span> <span class="n">LOOP</span>
        <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD</span> <span class="p">(</span><span class="n">MEMBER_ID</span><span class="p">,</span> <span class="n">CATEGORY_ID</span><span class="p">,</span> <span class="n">TITLE</span><span class="p">,</span> <span class="n">CONTENT</span><span class="p">)</span> 
        <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'테스트'</span><span class="o">||</span><span class="n">i</span><span class="p">,</span> <span class="s1">'테스트'</span><span class="o">||</span><span class="n">i</span><span class="p">);</span>
    <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
</code></pre></div></div>

<p>localhost:8080/board에 접속하면 다음과 같이 페이징 처리가 되어 출력됩니다.</p>

<p align="center"><img src="/assets/images/spring-legacy/img26.png" alt="img26" /></p>

<h1 id="소스코드">소스코드</h1>

<blockquote>
  <p><a href="/file/legacy/ex_paging.zip" target="_blank">ex_paging.zip</a></p>
</blockquote>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!-- 
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Rubisco's Programming Note</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
             -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- utterances -->
            <div id="comment">
                <script src="https://utteranc.es/client.js"
                repo="huimang2/huimang2.github.io"
                issue-term="pathname"
                theme="github-light"
                crossorigin="anonymous"
                async></script>
            </div>
        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/M31_starspike.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Rubisco's Programming Note &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/java/">Java</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/java/maven-project">이클립스 메이븐 프로젝트</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/java/spring-legacy-security">스프링 레거시(Spring legacy) - 시큐리티 적용</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/java/spring-legacy-filter-and-interceptor">스프링 레거시(Spring legacy) - 필터와 인터셉터</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/java/">
                                
                                    See all 18 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/java/spring-legacy-search">
                <div class="post-card-image" style="background-image: url(/assets/images/spring-legacy/logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/java/spring-legacy-search">
                <header class="post-card-header">
                    
                        <div class="post-card-tags-container">
                            
                        </div>
                    

                    <h2 class="post-card-title">스프링 레거시(Spring legacy) - 검색기능</h2>
                </header>
                <!-- <section class="post-card-excerpt">
                    
                        <p>이번에는 게시글에 검색기능을 넣어보도록 하겠습니다. 스프링 부트에서는 QueryDSL을 통해 동적으로 쿼리문을 생성할 수 있었는데 레거시에서는 매퍼에서 다양한 태그를 통해 쿼리를 동적으로 작성할 수 있습니다.

</p>
                    
                </section> -->
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/java/spring-legacy-service-and-controller">
                <div class="post-card-image" style="background-image: url(/assets/images/spring-legacy/logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/java/spring-legacy-service-and-controller">
                <header class="post-card-header">
                    
                        <div class="post-card-tags-container">
                            
                        </div>
                    

                    <h2 class="post-card-title">스프링 레거시(Spring legacy) - Service, Controller 작성</h2>
                </header>
                <!-- <section class="post-card-excerpt">
                    
                        <p>서비스(Service) 작성

</p>
                    
                </section> -->
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      7 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://huimang2.github.io/">
            
            <span>Rubisco's Programming Note</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">스프링 레거시(Spring legacy) - 페이징</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EC%8A%A4%ED%94%84%EB%A7%81+%EB%A0%88%EA%B1%B0%EC%8B%9C%28Spring+legacy%29+-+%ED%8E%98%EC%9D%B4%EC%A7%95&amp;url=java/spring-legacy-paging"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=java/spring-legacy-paging"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>



        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://huimang2.github.io/">Rubisco's Programming Note</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search Rubisco's Programming Note</h1>
            <p class="subscribe-overlay-description">
            lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>


    <!-- highlight.js -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script> -->

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    /* toc ---------------------------------------------------------------------*/

    var tocTitle = document.getElementsByClassName("post-full-title")[0];
    var tocTitleY = window.pageYOffset + title.getBoundingClientRect().top;
    
    var tocArticle = document.getElementsByClassName("post-full-content")[0];
    var tocArticleY = window.pageYOffset + tocArticle.getBoundingClientRect().top;
  
    var toc = document.getElementById("toc");
    var tocHeaderNodes = getHeaderNodes(tocArticle);
    var tocNodes = getTOCNodes(toc);
  
    var tocBefore = undefined;

    function getTOCNodes(master) {
        var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
        var tocNodes = nodes.filter(function(elem) {
            return elem.tagName == "A";
        });
        return tocNodes;
    }
    
    function getHeaderNodes(master) {
        var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
        var headerNodes = nodes.filter(function(elem) {
            return elem.tagName == "H1" || elem.tagName == "H2" || elem.tagName == "H3" && !elem.classList.contains('no-toc');
        });
        return headerNodes;
    }

    tocNodes.forEach(el => {
        el.addEventListener('click', function(e){
            e.preventDefault();
            let id = this.getAttribute('href').slice(1);
            window.scrollTo(window.scrollX, window.scrollY + document.getElementById(id).getBoundingClientRect().top - 80);
        });
    });

    document.querySelector('.post-full-content').querySelectorAll('p a[href^="#"]').forEach(el => {
        el.addEventListener('click', function(e){
            e.preventDefault();
            let id = this.getAttribute('href').slice(1);
            window.scrollTo(window.scrollX, window.scrollY + document.getElementById(id).getBoundingClientRect().top - 80);
        });
    });

    /*--------------------------------------------------------------------------*/

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 30;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
            toc.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
            toc.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;

        // toc
        var tocCurrent = tocHeaderNodes.filter(function(header) {
            var headerY = window.pageYOffset + header.getBoundingClientRect().top;
            return window.scrollY >= headerY - 90;
        });
  
        if (tocCurrent.length > 0) {
            tocCurrent = tocCurrent[tocCurrent.length-1];
  
            var tocCurrentA = tocNodes.filter(function(tocNode) {
                return tocNode.getElementsByTagName("span")[0].innerHTML == tocCurrent.innerHTML;
            })
            
            tocCurrentA = tocCurrentA[0];

            if (tocCurrentA) {
                if (tocBefore == undefined) tocBefore = tocCurrentA;
    
                if (tocBefore != tocCurrentA) {
                    tocBefore.classList.remove("toc-active");
                    tocBefore = tocCurrentA;
                }
    
                tocCurrentA.classList.add("toc-active");
            }
            else {
                if (tocBefore) 
                    tocBefore.classList.remove("toc-active");
            }
        }
        else {
            if (tocBefore) 
                tocBefore.classList.remove("toc-active");
        }
        
        if(toc && tocArticle.getBoundingClientRect().bottom <= 0) {
            toc.classList.add('toc-hidden');
        } else {
            toc.classList.remove('toc-hidden');
        }
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
