<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>SQL - 데이터베이스(Database)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- 웹 폰트 설정 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/css/custom.css" />
    

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- syntax.css -->
    <link rel="stylesheet" href="/assets/css/syntax.css">
    
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="프로그래밍 노트" />
    <link rel="shortcut icon" href="https://huimang2.github.io/assets/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://huimang2.github.io/sql/database" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Rubisco's Programming Note" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="SQL - 데이터베이스(Database)" />
    <meta property="og:description" content="데이터베이스(Database) 데이터베이스(Database, DB)는 통합하여 관리되는 데이터의 집합체를 의미합니다. 데이터베이스는 자료를 구조화하여 중복된 데이터를 없애고 효율적인 처리를 할 수 있도록 관리되는데, 데이터베이스를 관리 및 제어하고 다수의 사용자가 데이터에 접근하여 이용할 수 있도록 해주는 소프트웨어를 데이터베이스 관리시스템(Database Management System, DBMS)라고 합니다. DBMS의 유형은 계층형(Hierarchical), 네트워크형(Network), 관계형(Relational), 객체지향형(Object-Oriented), 객체관계형(Object-Relational) 등으로 분류됩니다. 계층형 모델은" />
    <meta property="og:url" content="https://huimang2.github.io/sql/database" />
    <meta property="og:image" content="https://huimang2.github.io/assets/images/sql-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2023-02-13T01:00:00+09:00" />
    <meta property="article:modified_time" content="2023-02-13T01:00:00+09:00" />
    <meta property="article:tag" content="Sql" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SQL - 데이터베이스(Database)" />
    <meta name="twitter:description" content="데이터베이스(Database) 데이터베이스(Database, DB)는 통합하여 관리되는 데이터의 집합체를 의미합니다. 데이터베이스는 자료를 구조화하여 중복된 데이터를 없애고 효율적인 처리를 할 수 있도록 관리되는데, 데이터베이스를 관리 및 제어하고 다수의 사용자가 데이터에 접근하여 이용할 수 있도록 해주는 소프트웨어를 데이터베이스 관리시스템(Database Management System, DBMS)라고 합니다. DBMS의 유형은 계층형(Hierarchical), 네트워크형(Network), 관계형(Relational), 객체지향형(Object-Oriented), 객체관계형(Object-Relational) 등으로 분류됩니다. 계층형 모델은" />
    <meta name="twitter:url" content="https://huimang2.github.io/" />
    <meta name="twitter:image" content="https://huimang2.github.io/assets/images/sql-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Rubisco's Programming Note" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Sql" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Rubisco's Programming Note",
        "logo": "https://huimang2.github.io/"
    },
    "url": "https://huimang2.github.io/sql/database",
    "image": {
        "@type": "ImageObject",
        "url": "https://huimang2.github.io/assets/images/sql-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://huimang2.github.io/sql/database"
    },
    "description": "데이터베이스(Database) 데이터베이스(Database, DB)는 통합하여 관리되는 데이터의 집합체를 의미합니다. 데이터베이스는 자료를 구조화하여 중복된 데이터를 없애고 효율적인 처리를 할 수 있도록 관리되는데, 데이터베이스를 관리 및 제어하고 다수의 사용자가 데이터에 접근하여 이용할 수 있도록 해주는 소프트웨어를 데이터베이스 관리시스템(Database Management System, DBMS)라고 합니다. DBMS의 유형은 계층형(Hierarchical), 네트워크형(Network), 관계형(Relational), 객체지향형(Object-Oriented), 객체관계형(Object-Relational) 등으로 분류됩니다. 계층형 모델은"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="SQL - 데이터베이스(Database)" href="/feed.xml" />


    <!-- MathJax -->
    

</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://huimang2.github.io/">Rubisco's Programming Note</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-java" role="menuitem"><a href="/tag/java/">JAVA</a></li>
    <li class="nav-typescript" role="menuitem"><a href="/tag/typescript/">Typescript</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/algorithm/">Algorithm</a></li>
    <li class="nav-python" role="menuitem"><a href="/archive.html">All Posts</a></li>
    <li class="nav-python" role="menuitem"><a href="/author_archive.html">Tag별 Posts</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-sql post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="13 February 2023">13 February 2023</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                                
                                <a href='/tag/sql/'>#SQL</a>
                                
                            
                        
                    
                </section>
                <h1 class="post-full-title">SQL - 데이터베이스(Database)</h1>
            </header>

            <!-- 
            <figure class="post-full-image" style="background-image: url(/assets/images/sql-logo.png)">
            </figure>
             -->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <div id="toc">
                        <ul><li><a href="#데이터베이스database"><span>데이터베이스(Database)</span></a></li><li><a href="#sqlstructured-query-language"><span>SQL(Structured Query Language)</span></a><ul><li><a href="#데이터-정의어data-definition-language-ddl"><span>데이터 정의어(Data Definition Language, DDL)</span></a><ul><li><a href="#create"><span>CREATE</span></a></li><li><a href="#alter"><span>ALTER</span></a></li><li><a href="#rename"><span>RENAME</span></a></li><li><a href="#drop"><span>DROP</span></a></li><li><a href="#truncate"><span>TRUNCATE</span></a></li></ul></li><li><a href="#데이터-조작어data-manipulation-language-dml"><span>데이터 조작어(Data Manipulation Language, DML)</span></a><ul><li><a href="#select"><span>SELECT</span></a></li><li><a href="#insert"><span>INSERT</span></a></li><li><a href="#update"><span>UPDATE</span></a></li><li><a href="#delete"><span>DELETE</span></a></li></ul></li><li><a href="#트랜잭션-제어어transaction-control-language-tcl"><span>트랜잭션 제어어(Transaction Control Language, TCL)</span></a><ul><li><a href="#트랜잭션의-특성-acid"><span>트랜잭션의 특성: ACID</span></a></li><li><a href="#트랜잭션의-격리성-수준"><span>트랜잭션의 격리성 수준</span></a></li></ul></li></ul></li></ul>

                    </div>
                    <h1 id="데이터베이스database">데이터베이스(Database)</h1>

<p><code class="language-plaintext highlighter-rouge">데이터베이스(Database, DB)</code>는 통합하여 관리되는 데이터의 집합체를 의미합니다. 데이터베이스는 자료를 구조화하여 중복된 데이터를 없애고 효율적인 처리를 할 수 있도록 관리되는데, 데이터베이스를 관리 및 제어하고 다수의 사용자가 데이터에 접근하여 이용할 수 있도록 해주는 소프트웨어를 <code class="language-plaintext highlighter-rouge">데이터베이스 관리시스템(Database Management System, DBMS)</code>라고 합니다.</p>

<p>DBMS의 유형은 <code class="language-plaintext highlighter-rouge">계층형(Hierarchical)</code>, <code class="language-plaintext highlighter-rouge">네트워크형(Network)</code>, <code class="language-plaintext highlighter-rouge">관계형(Relational)</code>, <code class="language-plaintext highlighter-rouge">객체지향형(Object-Oriented)</code>, <code class="language-plaintext highlighter-rouge">객체관계형(Object-Relational)</code> 등으로 분류됩니다.</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">계층형 모델</code>은 데이터 간의 관계가 트리 형태로 구성되어 있는 모델입니다. 계층 간 1:M 형태로 구성 가능하며, 데이터를 세그먼트 단위로 관리하고 세그먼트 간의 계층을 트리 구조로 관리합니다.</p>

<h6 id="계층형-모델">계층형 모델</h6>
<p><img src="/assets/images/sql/img007.png" alt="img007" style="margin-top:-1.5em" /></p>

<p>대통령 아래 국무총리가 있고, 국무총리 아래 부가 있으며, 부 아래 청이 있습니다. 부모 세그먼트는 다수의 자식 세그먼트와 연결되지만 자식 세그먼트는 오직 하나의 부모 세그먼트와 연결됩니다.</p>

<p>이 모델은 한번 구축하면 구조 변경이 어렵고 같은 계층에 접근하는 것이 비효율적이기 때문에 현재는 거의 쓰이고 있지 않습니다.</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">네트워크형 모델</code>은 계층형 DBMS의 단점을 보완하여 데이터 간에 M:N 구성이 가능한 모델입니다.</p>

<h6 id="네트워크형-모델">네트워크형 모델</h6>
<p><img src="/assets/images/sql/img008.png" alt="img008" style="margin-top:-1.5em" /></p>

<p>계층형 모델의 경우 경찰청에서 국세청에 연결되기 위해서는 행정안전부 -&gt; 국무총리 -&gt; 기획재정부 -&gt; 국세청 순서를 거쳐야 하지만, 네트워크형 모델의 경우 바로 연결될 수 있습니다.</p>

<p>하지만 구조가 복잡하여 유지보수 비용이 많이 들기때문에 계층형과 마찬가지로 현재는 거의 사용하지 않습니다.</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">관계형 모델</code>은 키(key)와 값(value)으로 이루어진 데이터들을 행(row)과 열(column)로 구성된 테이블(table) 형태로 저장하고 관리하는 데이터베이스 모델입니다.</p>

<h6 id="관계형-모델">관계형 모델</h6>
<p><img src="/assets/images/sql/img009.png" alt="img009" style="margin-top:-1.5em" /></p>

<p>오라클(Oracle), SQL Server, MySQL, MariaDB, PostgreSQL 등 대부분의 DBMS는 관계형 DBMS에 해당하며, SQL을 사용하여 데이터를 처리합니다.</p>

<h1 id="sqlstructured-query-language">SQL(Structured Query Language)</h1>

<p><code class="language-plaintext highlighter-rouge">SQL(Structured Query Language)</code>은 관계형 데이터베이스에서 사용되는 비절차적 언어로, 데이터의 정의(Definition), 조작(Manipulation), 제어(Control) 등을 위해 사용됩니다.</p>

<p>DBMS 벤더에 따라 사용하는 SQL에 다소 차이가 있기때문에 <code class="language-plaintext bgcolor orange highlighter-rouge" style="color:orangered">미국 표준 협회(American National Standards Institute, ANSI)</code>에서는 SQL에 대한 표준을 정하여 발표하였으며, 이를 <code class="language-plaintext highlighter-rouge">표준 SQL(ANSI SQL)</code>이라고 합니다.</p>

<p>각각의 벤더는 표준 SQL을 포함하여 추가로 자신만의 기능을 가지고 있는데, 이렇게 변형된 SQL을 오라클에서는 <code class="language-plaintext highlighter-rouge">PL/SQL</code>, SQL Server에서는 <code class="language-plaintext highlighter-rouge">T-SQL</code>, MySQL에서는 <code class="language-plaintext highlighter-rouge">SQL</code> 이라고 부릅니다.</p>

<p>현업에서는 오라클을 많이 사용하고 있으므로 PL/SQL 위주로 설명하도록 하겠습니다.</p>

<h2 id="데이터-정의어data-definition-language-ddl">데이터 정의어(Data Definition Language, DDL)</h2>

<p><code class="language-plaintext highlighter-rouge">데이터 정의어(Data Definition Language, DDL)</code>는 데이터베이스의 테이블과 같은 데이터 구조나 구성 요소를 생성, 삭제, 변경하는 언어입니다.</p>

<p>DDL의 대상은 <code class="language-plaintext bgcolor orange highlighter-rouge" style="color:orangered">테이블(table)</code>, <code class="language-plaintext bgcolor orange highlighter-rouge" style="color:orangered">뷰(view)</code>, <code class="language-plaintext bgcolor orange highlighter-rouge" style="color:orangered">인덱스(index)</code>, <code class="language-plaintext bgcolor orange highlighter-rouge" style="color:orangered">스키마(Schema)</code> 등의 데이터베이스 객체이며, 명령어는 <code class="language-plaintext highlighter-rouge">CREATE</code>, <code class="language-plaintext highlighter-rouge">ALTER</code>, <code class="language-plaintext highlighter-rouge">RENAME</code>, <code class="language-plaintext highlighter-rouge">DROP</code>, <code class="language-plaintext highlighter-rouge">TRUNCATE</code>가 있습니다.</p>

<h3 id="create">CREATE</h3>

<p><code class="language-plaintext highlighter-rouge">CREATE</code> 명령어는 데이터베이스, 테이블, 인덱스 등을 생성하는 명령어이며, 테이블을 생성하기 위한 CREATE TABLE 문법은 다음과 같습니다.</p>

<h6 id="create-table-문법">CREATE TABLE 문법</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="err">테이블명</span><span class="p">(</span>
    <span class="err">컬럼</span><span class="mi">1</span>   <span class="err">컬럼</span><span class="mi">1</span><span class="n">_</span><span class="err">데이터타입</span>  <span class="p">[</span><span class="k">NOT</span> <span class="k">NULL</span><span class="p">]</span>
  <span class="p">,</span> <span class="err">컬럼</span><span class="mi">2</span>   <span class="err">컬럼</span><span class="mi">2</span><span class="n">_</span><span class="err">데이터타입</span>  <span class="p">[</span><span class="k">NOT</span> <span class="k">NULL</span><span class="p">]</span>
  <span class="p">...</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="err">기본키명</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="err">컬럼명</span><span class="p">)</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="err">고유키명</span> <span class="k">UNIQUE</span><span class="p">(</span><span class="err">컬럼명</span><span class="p">[,</span> <span class="err">컬럼명</span><span class="p">,</span> <span class="p">...])</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="err">외래키명</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="err">컬럼명</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="err">참조테이블</span><span class="p">(</span><span class="err">참조테이블</span><span class="n">_</span><span class="err">기본키</span><span class="p">)</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="err">제약조건명</span> <span class="k">CHECK</span><span class="p">(</span><span class="err">조건식</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<p>데이터 타입에는 고정형 길이 문자 데이터인 <code class="language-plaintext highlighter-rouge">CHARACTER</code>, 가변형 문자 데이터인 <code class="language-plaintext highlighter-rouge">VARCHAR</code>, 숫자 데이터인 <code class="language-plaintext highlighter-rouge">NUMERIC</code>, 날짜와 시각 데이터인 <code class="language-plaintext highlighter-rouge">DATETIME</code>이 있습니다.</p>

<p>오라클에서는 주로 CHARACTER를 <code class="language-plaintext highlighter-rouge">CHAR</code>, VARCHAR를 <code class="language-plaintext highlighter-rouge">VARCHAR2</code>, NUMERIC을 <code class="language-plaintext highlighter-rouge">NUMBER</code>, DATETIME을 <code class="language-plaintext highlighter-rouge">DATE</code>로 표현합니다. 또한 대용량 데이터의 경우 <code class="language-plaintext highlighter-rouge">CLOB</code>, <code class="language-plaintext highlighter-rouge">BLOB</code> 타입을 사용합니다.</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">제약조건</code>은 데이터베이스 객체 중 하나이며, 데이터 무결성을 보장하기 위한 용도로 사용됩니다.</p>

<p>무결성은 데이터베이스에 저장된 값들이 정확하고 일관성 있는 데이터임을 나타내는 특성으로, 여기에는 하나의 테이블에 중복된 행이 존재하지 않도록 보장하는 <code class="language-plaintext highlighter-rouge">개체 무결성</code>과 참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 가짐을 보장하는 <code class="language-plaintext highlighter-rouge">참조 무결성</code>이 있습니다.</p>

<p>제약조건에는 <code class="language-plaintext highlighter-rouge">NOT NULL</code>, <code class="language-plaintext highlighter-rouge">DEFAULT</code>, <code class="language-plaintext highlighter-rouge">UNIQUE</code>, <code class="language-plaintext highlighter-rouge">PRIMARY KEY</code>, <code class="language-plaintext highlighter-rouge">FOREIGN KEY</code>, <code class="language-plaintext highlighter-rouge">CHECK</code> 등이 있습니다. UNIQUE와 PRIMARY KEY는 개체 무결성을 보장하고, FOREIGN KEY는 참조 무결성을 보장합니다.</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">NOT NULL</code>의 경우 해당 컬럼에 반드시 데이터가 입력되도록 합니다. 만약 NULL이 입력된다면 오류가 발생합니다.</p>

<h6 id="not-null-제약조건">NOT NULL 제약조건</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
    <span class="n">EMP_ID</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">EMP_NAME</span>    <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">BIRTH_DAY</span>   <span class="nb">DATE</span>
<span class="p">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">DEFAULT</code>는 기본값을 나타내며, 데이터가 입력되지 않으면 기본값이 입력됩니다.</p>

<h6 id="default-제약조건">DEFAULT 제약조건</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
    <span class="n">EMP_ID</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">EMP_NAME</span>    <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'anonymous'</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">BIRTH_DAY</span>   <span class="nb">DATE</span>
<span class="p">)</span>
</code></pre></div></div>

<hr />

<p><code class="language-plaintext highlighter-rouge">UNIQUE</code>는 테이블의 행을 고유하게 식별하기 위한 고유키를 정의하는 제약조건입니다. 동일한 컬럼에 대하여 중복된 값을 입력할 수 없지만, NULL의 경우 고유키의 제약대상이 아니므로 중복 입력이 가능합니다.</p>

<h6 id="unique-제약조건">UNIQUE 제약조건</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
    <span class="n">EMP_ID</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">UNIQUE</span>
  <span class="p">,</span> <span class="n">EMP_NAME</span>    <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'anonymous'</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">BIRTH_DAY</span>   <span class="nb">DATE</span>
<span class="p">)</span>
</code></pre></div></div>

<p>해당 쿼리의 경우 EMP_ID가 고유키가 되며, 중복된 값이 입력되면 개체 무결성 제약조건 위반으로 오류가 발생합니다. 다만, NULL의 경우 중복입력이 되더라도 오류를 일으키지 않고 정상적으로 데이터가 입력됩니다.</p>

<p>CONSTRAINT 키워드를 사용하여 고유키 이름을 지정할 수도 있씁니다.</p>

<h6 id="고유키-이름-설정">고유키 이름 설정</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
    <span class="n">EMP_ID</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
  <span class="p">,</span> <span class="n">EMP_NAME</span>    <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'anonymous'</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">BIRTH_DAY</span>   <span class="nb">DATE</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="n">EMP_UNIQUE</span> <span class="k">UNIQUE</span><span class="p">(</span><span class="n">EMP_ID</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<hr />

<p><code class="language-plaintext highlighter-rouge">PRIMARY KEY</code>는 테이블의 행을 고유하게 식별하기 위한 기본키를 정의하는 제약조건입니다. UNIQUE + NOT NULL에 해당하기 때문에 NULL의 입력이 불가합니다.</p>

<h6 id="primary-key-제약조건">PRIMARY KEY 제약조건</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
    <span class="n">EMP_ID</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">EMP_NAME</span>    <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'anonymous'</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">BIRTH_DAY</span>   <span class="nb">DATE</span>
<span class="p">)</span>
</code></pre></div></div>

<p>UNIQUE와 마찬가지로 CONSTRAINT 키워드를 사용하여 선언할 수도 있습니다.</p>

<h6 id="기본키-이름-설정">기본키 이름 설정</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
    <span class="n">EMP_ID</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
  <span class="p">,</span> <span class="n">EMP_NAME</span>    <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'anonymous'</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">BIRTH_DAY</span>   <span class="nb">DATE</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="n">EMP_PK</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">EMP_ID</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<hr />

<p><code class="language-plaintext highlighter-rouge">FOREIGN KEY</code>는 테이블 간의 참조 무결성을 위한 제약조건입니다.</p>

<h6 id="foreign-key-제약조건">FOREIGN KEY 제약조건</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">BOARD</span> <span class="p">(</span>
    <span class="n">DOCUMENT_IDX</span>  <span class="n">NUMBER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">TITLE</span>         <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="k">CLOB</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span> <span class="p">(</span>
    <span class="n">COMMENT_IDX</span>   <span class="n">NUMBER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">DOCUMENT_IDX</span>  <span class="n">NUMBER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">REFERENCES</span> <span class="n">BOARD</span><span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">)</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="k">CLOB</span>
<span class="p">);</span>
</code></pre></div></div>

<p>하나의 게시글에는 여러 댓글이 달릴 수 있으므로, BOARD COMMENTS는 1:M의 관계를 가집니다. 이때 댓글이 어느 게시글에 달렸는지 알기 위해서 DOCUMENT_IDX 컬럼을 통해 게시글을 참조하게 되므로, 참조 무결성을 보장하기 위해 DOCUMENT_IDX를 외래키로 설정합니다.</p>

<p>다른 제약조건과 마찬가지로 CONSTRAINT 키워드를 통해 외래키 이름을 지정할 수 있습니다.</p>

<h6 id="외래키-이름-설정">외래키 이름 설정</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span> <span class="p">(</span>
    <span class="n">COMMENT_IDX</span>   <span class="n">NUMBER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">DOCUMENT_IDX</span>  <span class="n">NUMBER</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="k">CONSTRAINT</span> <span class="n">COMMENT_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">)</span>
    <span class="k">REFERENCES</span> <span class="n">BOARD</span><span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">)</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="k">CLOB</span>
<span class="p">);</span>
</code></pre></div></div>

<p>참조 무결성 규칙은 자식 테이블의 <code class="language-plaintext highlighter-rouge">입력 참조 무결성 규칙</code>과 부모 테이블의 <code class="language-plaintext highlighter-rouge">삭제/수정 참조 무결성 규칙</code>으로 나눠집니다.</p>

<hr />

<p>입력 참조 무결성 규칙에는 <code class="language-plaintext highlighter-rouge">DEPENDENT</code>, <code class="language-plaintext highlighter-rouge">AUTOMATIC</code>, <code class="language-plaintext highlighter-rouge">SET NULL</code>, <code class="language-plaintext highlighter-rouge">SET DEFAULT</code>가 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">DEPENDENT</code>는 대응되는 부모 테이블에 인스턴스가 존재할 때만 자식 테이블에 데이터의 입력을 허용하여 무결성을 보장합니다.</p>

<p>외래키를 설정할 때 <code class="language-plaintext bgcolor orange highlighter-rouge" style="color:orangered">NOT NULL</code> 제약조건을 설정해준다면 자식 테이블이 부모 테이블에 대하여 DEPENDENT 상태가 되어 무결성을 보장할 수 있습니다.</p>

<p>만약 아래 쿼리처럼 존재하지 않는 document_idx가 1인 게시글에 댓글을 입력한다면 참조 무결성 위반이 되어 오류를 발생시킵니다.</p>

<h6 id="참조-무결성-제약-조건-위반">참조 무결성 제약 조건 위반</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">COMMENTS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'댓글'</span><span class="p">);</span>
</code></pre></div></div>

<h6 id="참조-무결성-제약-조건-위반으로-인한-오류-발생">참조 무결성 제약 조건 위반으로 인한 오류 발생</h6>
<p><img src="/assets/images/sql/img010.png" alt="img010" style="margin-top:-1.5em" /></p>

<p><code class="language-plaintext highlighter-rouge">AUTOMATIC</code>은 자식 테이블의 인스턴스 입력을 항상 허용하며, 대응되는 부모 테이블에 인스턴스가 없다면 이를 자동으로 생성하여 무결성을 보장합니다.</p>

<p><code class="language-plaintext highlighter-rouge">SET NULL</code>은 자식 테이블의 인스턴스 입력을 항상 허용하며, 대응되는 부모 테이블에 인스턴스가 없다면 외래키를 NULL값으로 입력하여 무결성을 보장합니다. 이때 NOT NULL 제약조건이 설정되면 안됩니다.</p>

<p><code class="language-plaintext highlighter-rouge">SET DEFAULT</code>도 자식 테이블의 인스턴스 입력을 항상 허용하며, 대응되는 부모 테이블에 인스턴스가 없다면 외래키를 지정된 기본값으로 입력합니다. 이때 외래키가 설정되면 안됩니다.</p>

<hr />

<p>삭제/수정 참조 무결성 규칙에는 <code class="language-plaintext highlighter-rouge">RESTRICT</code>, <code class="language-plaintext highlighter-rouge">CASCADE</code>, <code class="language-plaintext highlighter-rouge">SET NULL</code>, <code class="language-plaintext highlighter-rouge">SET DEFAULT</code>가 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">RESTRICT</code>는 대응되는 자식 테이블의 인스턴스가 없는 경우에만 부모 테이블의 인스턴스 삭제/수정을 허용하여 무결성을 보장합니다.</p>

<p><code class="language-plaintext highlighter-rouge">CASCADE</code>는 부모 테이블의 인스턴스 삭제/수정을 항상 허용하고, 대응되는 자식 테이블의 인스턴스를 자동으로 삭제/수정하여 무결성을 보장합니다.</p>

<p><code class="language-plaintext highlighter-rouge">SET NULL</code>은 부모 테이블의 인스턴스 삭제/수정을 항상 허용하고, 대응되는 자식 테이블의 인스턴스의 외래키를 NULL값으로 수정하여 무결성을 보장합니다.</p>

<p><code class="language-plaintext highlighter-rouge">SET DEFAULT</code>는 부모 테이블의 인스턴스 삭제/수정을 항상 허용하고, 대응되는 자식 테이블의 인스턴스의 외래키를 기본값으로 수정하여 무결성을 보장합니다.</p>

<p>외래키를 설정하면 기본적으로 RESTRICT가 적용되어 부모 테이블의 인스턴스 삭제/수정에 제약이 생깁니다. 만약 아래 쿼리처럼 document_idx가 1인 게시글에 댓글이 있을 때 게시글을 삭제한다면 참조 무결성 위반이 되어 오류를 발생시킵니다.</p>

<h6 id="참조-무결성-제약-조건-위반-1">참조 무결성 제약 조건 위반</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'제목1'</span><span class="p">,</span> <span class="s1">'내용1'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">COMMENTS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'댓글1'</span><span class="p">);</span>
<span class="k">DELETE</span> <span class="n">BOARD</span> <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<h6 id="참조-무결성-제약-조건-위반으로-인한-오류-발생-1">참조 무결성 제약 조건 위반으로 인한 오류 발생</h6>
<p><img src="/assets/images/sql/img011.png" alt="img011" style="margin-top:-1.5em" /></p>

<p>SQL에서는 <code class="language-plaintext highlighter-rouge">ON DELETE</code> 또는 <code class="language-plaintext highlighter-rouge">ON UPDATE</code> 키워드를 통해 부모 테이블의 인스턴스 삭제/수정에 제약을 줄 수 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">ON DELETE CASCADE</code> 제약조건을 적용한 후 document_idx가 1인 게시글을 삭제한다면 해당 게시글과 연관된 모든 댓글이 자동으로 삭제됩니다.</p>

<p>아래 쿼리를 순차적으로 실행하세요.</p>

<h6 id="on-delete-cascade">ON DELETE CASCADE</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span> <span class="p">(</span>
    <span class="n">COMMENT_IDX</span>   <span class="n">NUMBER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">DOCUMENT_IDX</span>  <span class="n">NUMBER</span> <span class="k">NOT</span> <span class="k">NULL</span>
    <span class="k">REFERENCES</span> <span class="n">BOARD</span><span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">)</span>
    <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="k">CLOB</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">COMMENTS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'댓글1'</span><span class="p">);</span>
<span class="k">DELETE</span> <span class="n">BOARD</span> <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">COMMENTS</span><span class="p">;</span>
</code></pre></div></div>

<p>게시글을 삭제할 때 댓글이 함께 삭제되었기 때문에 COMMENTS 테이블에는 인스턴스가 없는 것을 확인할 수 있습니다.</p>

<h6 id="comments-테이블">COMMENTS 테이블</h6>
<p><img src="/assets/images/sql/img012.png" alt="img012" style="margin-top:-1.5em" /></p>

<p>오라클에서는 <code class="language-plaintext highlighter-rouge">ON UPDATE</code> 키워드를 지원하지 않습니다. SQL Server에서 아래와 같이 테이블을 생성한 후 게시글의 document_idx를 수정한 후 COMMENTS 테이블을 조회하면 document_idx가 자동으로 수정된 것을 확인할 수 있습니다.</p>

<h6 id="on-update-cascade">ON UPDATE CASCADE</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">BOARD</span> <span class="p">(</span>
    <span class="n">DOCUMENT_IDX</span>  <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">TITLE</span>         <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="nb">TEXT</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span> <span class="p">(</span>
    <span class="n">COMMENT_IDX</span>   <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">DOCUMENT_IDX</span>  <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span>
    <span class="k">REFERENCES</span> <span class="n">BOARD</span><span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">)</span>
    <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span>
    <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">CASCADE</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="nb">TEXT</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'제목1'</span><span class="p">,</span> <span class="s1">'내용1'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">COMMENTS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'댓글1'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">BOARD</span> <span class="k">SET</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">COMMENTS</span><span class="p">;</span>
</code></pre></div></div>

<h6 id="comments-테이블-1">COMMENTS 테이블</h6>
<p><img src="/assets/images/sql/img013.png" alt="img013" style="margin-top:-1.5em" /></p>

<p>CASCADE 대신에 <code class="language-plaintext highlighter-rouge">SET NULL</code>을 설정하면 부모 테이블의 삭제 또는 수정시 자식 테이블의 외래키는 NULL값으로 설정됩니다. 이때 주의할 것은 NOT NULL 제약조건을 설정하면 안됩니다.</p>

<p><code class="language-plaintext highlighter-rouge">SET DEFAULT</code>의 경우 DEFAULT 제약 조건을 설정해야하며, 오라클은 SET DEFAULT를 지원하지 않습니다.</p>

<hr />

<p><code class="language-plaintext highlighter-rouge">CHECK</code>는 입력할 수 있는 값의 범위를 제한하는 제약조건 입니다.</p>

<h6 id="check-제약조건">CHECK 제약조건</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">COMMENTS</span> <span class="p">(</span>
    <span class="n">COMMENT_IDX</span>   <span class="n">NUMBER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">DOCUMENT_IDX</span>  <span class="n">NUMBER</span> <span class="k">NOT</span> <span class="k">NULL</span>
    <span class="k">REFERENCES</span> <span class="n">BOARD</span><span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">)</span>
    <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="k">CLOB</span>
    <span class="k">CHECK</span> <span class="p">(</span><span class="k">LENGTH</span><span class="p">(</span><span class="n">CONTENTS</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<p>COMMENTS의 CONTENTS 컬럼은 10글자 이상이어야 합니다. 만약 10글자 미만이라면 제약조건 위반으로 오류를 발생시킵니다.</p>

<h6 id="제약조건-위반으로-인한-오류-발생">제약조건 위반으로 인한 오류 발생</h6>
<p><img src="/assets/images/sql/img014.png" alt="img014" style="margin-top:-1.5em" /></p>

<h3 id="alter">ALTER</h3>

<p><code class="language-plaintext highlighter-rouge">ALTER</code> 명령어는 컬림이나 제약조건을 추가/삭제하기 위한 명령이며, 문법은 아래와 같습니다.</p>

<h6 id="컬럼-추가add">컬럼 추가(ADD)</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">ADD</span> <span class="err">컬럼명</span> <span class="err">데이터유형</span> <span class="p">[</span><span class="err">기본값</span><span class="p">]</span> <span class="p">[</span><span class="k">NOT</span> <span class="k">NULL</span><span class="p">];</span>
</code></pre></div></div>

<h6 id="컬럼-수정modify">컬럼 수정(MODIFY)</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">MODIFY</span> <span class="err">컬럼명</span> <span class="err">데이터유형</span> <span class="p">[</span><span class="err">기본값</span><span class="p">]</span> <span class="p">[</span><span class="k">NOT</span> <span class="k">NULL</span><span class="p">];</span>
</code></pre></div></div>

<h6 id="컬럼-삭제drop">컬럼 삭제(DROP)</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">DROP</span> <span class="k">COLUMN</span> <span class="err">컬럼명</span><span class="p">;</span>
</code></pre></div></div>

<h6 id="컬럼명-수정rename">컬럼명 수정(RENAME)</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">RENAME</span> <span class="k">COLUMN</span> <span class="err">기존</span><span class="n">_</span><span class="err">컬럼명</span> <span class="k">TO</span> <span class="err">새로운</span><span class="n">_</span><span class="err">컬럼명</span><span class="p">;</span>
</code></pre></div></div>

<h6 id="제약조건-삭제drop-constraint">제약조건 삭제(DROP CONSTRAINT)</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="err">제약조건명</span><span class="p">;</span>
</code></pre></div></div>

<h6 id="제약조건-추가add-constraint">제약조건 추가(ADD CONSTRAINT)</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="err">제약조건명</span> <span class="err">제약조건</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="rename">RENAME</h3>

<p><code class="language-plaintext highlighter-rouge">RENAME</code> 명령어는 테이블 등 데이터베이스 객체의 이름을 변경하는 명령어입니다.</p>

<h6 id="테이블-이름-변경">테이블 이름 변경</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">RENAME</span> <span class="err">기존</span><span class="n">_</span><span class="err">테이블명</span> <span class="k">TO</span> <span class="err">새로운</span><span class="n">_</span><span class="err">테이블명</span><span class="p">;</span>
</code></pre></div></div>

<p>SQL Server의 경우 RENAME 대신에 <code class="language-plaintext highlighter-rouge">SP_RENAME</code>을 사용합니다.</p>

<h6 id="sql-server-테이블-이름-변경">SQL Server 테이블 이름 변경</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">SP_RENAME</span> <span class="err">기존</span><span class="n">_</span><span class="err">테이블명</span><span class="p">,</span> <span class="err">새로운</span><span class="n">_</span><span class="err">테이블명</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="drop">DROP</h3>

<p><code class="language-plaintext highlighter-rouge">DROP</code> 명령어는 테이블 등 데이터베이스 객체를 삭제하는 명령어 입니다.</p>

<h6 id="테이블-삭제">테이블 삭제</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span><span class="p">;</span>
</code></pre></div></div>

<p>만약 해당 테이블을 참조하는 다른 테이블이 있다면, 참조 무결성 제약을 제거해야만 테이블을 삭제할 수 있습니다. 오라클의 경우 <code class="language-plaintext highlighter-rouge">CASCADE CONSTRAINT</code>를 설정하면 해당 테이블을 참조하는 참조 무결성 제약을 함께 삭제할 수 있습니다.</p>

<h6 id="참조-무결성-제약-삭제">참조 무결성 제약 삭제</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">BOARD</span> <span class="k">CASCADE</span> <span class="k">CONSTRAINT</span><span class="p">;</span>
</code></pre></div></div>

<p>해당 쿼리를 실행한다면 COMMENTS 테이블에서 DOCUMENT_IDX의 외래키가 삭제됩니다.</p>

<h3 id="truncate">TRUNCATE</h3>

<p><code class="language-plaintext highlighter-rouge">TRUNCATE</code> 명령어는 테이블에 저장된 모든 인스턴스를 삭제하는 명령어 입니다. 테이블 스키마까지 삭제하는 DROP 명령어와 달리 테이블 스키마는 남겨두고 테이블에 속하는 인스턴스만 제거하여 저장공간을 재사용할 수 있습니다.</p>

<h6 id="테이블-초기화">테이블 초기화</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">TRUNCATE</span> <span class="k">TABLE</span> <span class="err">테이블명</span><span class="p">;</span>
</code></pre></div></div>

<p>DML의 DELETE와 유사하지만 ROLLBACK이 가능한 DELETE와 달리 TRUNCATE는 ROLLBACK이 불가능합니다.</p>

<h2 id="데이터-조작어data-manipulation-language-dml">데이터 조작어(Data Manipulation Language, DML)</h2>

<p><code class="language-plaintext highlighter-rouge">데이터 조작어(Data Manipulation Language, DML)</code>는 데이터베이스에 저장된 데이터를 조회, 입력, 수정 및 삭제하는 데 사용하는 질의어 입니다. 비절차적 언어이며, 사용자가 어떤 데이터를 원하는지를 명세합니다.</p>

<p>명령어는 <code class="language-plaintext highlighter-rouge">SELECT</code>, <code class="language-plaintext highlighter-rouge">INSERT</code>, <code class="language-plaintext highlighter-rouge">UPDATE</code>, <code class="language-plaintext highlighter-rouge">DELETE</code>가 있습니다.</p>

<h3 id="select">SELECT</h3>

<p><code class="language-plaintext highlighter-rouge">SELECT</code> 명령어는 테이블이나 뷰에 있는 데이터를 조회할 때 사용하는 명령어 입니다.</p>

<h6 id="select-문법">SELECT 문법</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="p">[</span><span class="k">ALL</span> <span class="o">|</span> <span class="k">DISTINCT</span><span class="p">]</span> <span class="err">컬럼명</span> <span class="p">[</span><span class="k">AS</span> <span class="err">별명</span><span class="p">]</span>
  <span class="k">FROM</span> <span class="err">테이블명</span>
 <span class="k">WHERE</span> <span class="err">조건</span>
 <span class="k">ORDER</span> <span class="k">BY</span> <span class="err">컬럼</span><span class="p">;</span>
</code></pre></div></div>

<p>데이터를 조회할 때 필요한 것은 어디에서, 어떤 데이터를 가져올 것인지가 필요합니다. 이때 <code class="language-plaintext bgcolor blue highlighter-rouge" style="color:royalblue">어디에서</code> 가져올 것인지는 <code class="language-plaintext highlighter-rouge">FROM절</code>에 명시하고, <code class="language-plaintext bgcolor blue highlighter-rouge" style="color:royalblue">어떤</code> 데이터를 가져올 것인지는 <code class="language-plaintext highlighter-rouge">SELECT절</code>에 기술합니다.</p>

<p>컬럼을 지정할 때 중복된 데이터를 모두 조회할 것인지, 한번만 조회할 것인지는 컬럼명 앞에 <code class="language-plaintext highlighter-rouge">ALL</code> 또는 <code class="language-plaintext highlighter-rouge">DISTINCT</code> 키워드를 붙여 나타낼 수 있습니다. 생략하는 경우 기본값은 <code class="language-plaintext bgcolor red highlighter-rouge" style="color:orangered">ALL</code>입니다.</p>

<p>2개 이상의 테이블에서 데이터를 조회하고 싶다면 콤마(,)를 구분자로 하여 테이블명을 나열하여 입력하면 되고, 어떤 테이블의 컬럼인지 구분하기위해 <code class="language-plaintext highlighter-rouge">AS</code> 키워드를 통해 별명(Alias)을 지정할 수 있습니다.</p>

<h6 id="여러-테이블에서-데이터를-조회">여러 테이블에서 데이터를 조회</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">B</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="o">*</span> <span class="k">FROM</span> <span class="n">BOARD</span> <span class="k">AS</span> <span class="n">B</span><span class="p">,</span> <span class="n">COMMENTS</span> <span class="k">AS</span> <span class="k">C</span><span class="p">;</span>
</code></pre></div></div>

<p>이때 AS 키워드를 생략할 수 있습니다.</p>

<h6 id="as-생략">AS 생략</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">B</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="o">*</span> <span class="k">FROM</span> <span class="n">BOARD</span> <span class="n">B</span><span class="p">,</span> <span class="n">COMMENTS</span> <span class="k">C</span><span class="p">;</span>
</code></pre></div></div>

<p>컬럼이름 또한 <code class="language-plaintext highlighter-rouge">AS</code> 키워드를 통해 별명을 지정할 수 있으며, 이 역시 생략이 가능합니다. 별명은 대소문자 구분이 없이 대문자로 표시되며, 별명을 예약어로 설정하거나 소문자를 입력하고 싶다면 쌍따옴표로 묶어주면 됩니다.</p>

<h6 id="컬럼에-별명-지정">컬럼에 별명 지정</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">B</span><span class="p">.</span><span class="n">DOCUMENT_IDX</span> <span class="n">B_IDX</span>
     <span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">COMMENT_IDX</span> <span class="n">C_IDX</span>
     <span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">CONTENTS</span> <span class="n">CONTENTS</span>
     <span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">CONTENTS</span> <span class="nv">"COMMENT"</span>
  <span class="k">FROM</span> <span class="n">BOARD</span> <span class="n">B</span><span class="p">,</span> <span class="n">COMMENTS</span> <span class="k">C</span><span class="p">;</span>
</code></pre></div></div>

<p>컬럼명은 와일드카드(*)을 통해 컬럼 전체를 조회할 수 있습니다.</p>

<h6 id="와일드카드-사용">와일드카드 사용</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">BOARD</span><span class="p">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">WHERE절</code>에는 조건을 설정할 수 있습니다.</p>

<h6 id="조건-설정">조건 설정</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span>
  <span class="k">FROM</span> <span class="n">BOARD</span>
 <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">ORDER BY</code>절을 통해서는 레코드의 정렬 순서를 지정해 줄 수 있습니다.</p>

<h6 id="레코드-정렬">레코드 정렬</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span>
  <span class="k">FROM</span> <span class="n">BOARD</span>
 <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">&gt;</span> <span class="mi">10</span>
 <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">DOCUMENT_IDX</span><span class="p">;</span>
</code></pre></div></div>

<p>WHERE절과 ORDER BY절은 차후에 자세히 설명하겠습니다.</p>

<h3 id="insert">INSERT</h3>

<p><code class="language-plaintext highlighter-rouge">INSERT</code> 명령어는 데이터의 내용을 입력할 때 사용하는 명령어 입니다.</p>

<h6 id="insert-문법">INSERT 문법</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="err">테이블명</span><span class="p">(</span><span class="err">컬럼명</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="err">입력값</span><span class="p">);</span>
</code></pre></div></div>

<p>입력값의 경우 컬럼명의 개수와 순서를 맞추어 입력합니다.</p>

<h6 id="insert-예제">INSERT 예제</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD</span> <span class="p">(</span><span class="n">DOCUMENT_IDX</span><span class="p">,</span> <span class="n">TItLE</span><span class="p">,</span> <span class="n">CONTENTS</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'제목1'</span><span class="p">,</span> <span class="s1">'내용1'</span><span class="p">);</span>
</code></pre></div></div>

<p>이때 컬럼명을 생략하면 테이블 전체 컬럼에 데이터를 입력합니다.</p>

<h6 id="컬럼명-생략">컬럼명 생략</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'제목1'</span><span class="p">,</span> <span class="s1">'내용1'</span><span class="p">);</span>
</code></pre></div></div>

<p>VALUES절 대신에 SELECT절을 통해 조회한 데이터를 입력할 수도 있으며, 이 경우 입력할 컬럼과 조회할 컬럼의 수와 순서는 동일해야합니다.</p>

<h6 id="insert-예제-1">INSERT 예제</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">BOARD_TEMP</span> <span class="p">(</span>
    <span class="n">DOCUMENT_IDX</span>  <span class="n">NUMBER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>
  <span class="p">,</span> <span class="n">TITLE</span>         <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
  <span class="p">,</span> <span class="n">CONTENTS</span>      <span class="k">CLOB</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'제목2'</span><span class="p">,</span> <span class="s1">'내용2'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">BOARD_TEMP</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">BOARD</span><span class="p">;</span>
</code></pre></div></div>

<p>BOARD 테이블에서 조회한 전체 데이터가 BOARD_TEMP 테이블에 입력되는 것을 확인할 수 있습니다.</p>

<h3 id="update">UPDATE</h3>

<p><code class="language-plaintext highlighter-rouge">UPDATE</code> 명령어는 데이터의 내용을 수정할 때 사용하는 명령어 입니다.</p>

<h6 id="update-문법">UPDATE 문법</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">UPDATE</span> <span class="err">테이블명</span>
   <span class="k">SET</span> <span class="err">컬럼</span><span class="mi">1</span> <span class="o">=</span> <span class="err">변경값</span><span class="mi">1</span><span class="p">,</span>
       <span class="err">컬럼</span><span class="mi">2</span> <span class="o">=</span> <span class="err">변경값</span><span class="mi">2</span>
       <span class="p">...</span>
 <span class="k">WHERE</span> <span class="err">조건</span><span class="p">;</span>
</code></pre></div></div>

<p>이미 입력된 데이터를 변경해야 하므로, UPDATE 키워드 다음에 변경할 테이블을 입력하고, <code class="language-plaintext highlighter-rouge">SET절</code>에는 컬럼과 값을 입력합니다. 특정 레코드의 컬럼 데이터만 변경하려면 <code class="language-plaintext highlighter-rouge">WHERE절</code>에 조건문을 작성하면 됩니다.</p>

<h6 id="update-예제">UPDATE 예제</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">UPDATE</span> <span class="n">BOARD</span>
   <span class="k">SET</span> <span class="n">TITLE</span> <span class="o">=</span> <span class="s1">'제목1 수정'</span><span class="p">,</span>
       <span class="n">CONTENTS</span> <span class="o">=</span> <span class="s1">'내용1 수정'</span>
 <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="delete">DELETE</h3>

<p><code class="language-plaintext highlighter-rouge">DELETE</code> 명령어는 데이터의 내용을 삭제할 때 사용하는 명령어 입니다.</p>

<h6 id="delete-문법">DELETE 문법</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DELETE</span> <span class="p">[</span><span class="k">FROM</span><span class="p">]</span> <span class="err">테이블명</span>
 <span class="k">WHERE</span> <span class="err">조건</span><span class="p">;</span>
</code></pre></div></div>

<p>특정 테이블에서 조건에 해당하는 레코드를 삭제하며, WHERE절을 생략하면 전체 데이터를 삭제합니다.</p>

<p>이때 ROLLBACK이 불가능한 TRUNCATE 명령어와 달리, DELETE는 COMMIT 하기 전까는 ROLLBACK이 가능합니다.</p>

<h6 id="delete-예제">DELETE 예제</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">BOARD</span><span class="p">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">FROM</code> 키워드는 생략이 가능합니다.</p>

<h6 id="from-생략">FROM 생략</h6>
<div data-lang="SQL" class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DELETE</span> <span class="n">BOARD</span> <span class="k">WHERE</span> <span class="n">DOCUMENT_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="트랜잭션-제어어transaction-control-language-tcl">트랜잭션 제어어(Transaction Control Language, TCL)</h2>

<p><code class="language-plaintext highlighter-rouge">트랜잭션 제어어(Transaction Control Language, TCL)</code>는 트랜잭션을 제어하는 명령어 입니다.</p>

<p>트랜잭션은 업무 처리를 위한 데이터베이스의 논리적인 작업 단위입니다. 하나의 트랜잭션은 한 개 이상의 연산으로 이루어질 수 있으며, 연산들은 완전히 처리되거나 하나도 처리되지 않아야 합니다.</p>

<h3 id="트랜잭션의-특성-acid">트랜잭션의 특성: ACID</h3>

<p>트랜잭션은 <code class="language-plaintext highlighter-rouge">원자성(Atomicity)</code>, <code class="language-plaintext highlighter-rouge">일관성(Consistency)</code>, <code class="language-plaintext highlighter-rouge">격리성(Isolation)</code>, <code class="language-plaintext highlighter-rouge">영속성(Durability)</code> 4가지 특성을 가집니다.</p>

<p><code class="language-plaintext highlighter-rouge">원자성</code>은 트랜잭션의 작업이 부분적으로 실행되거나 중단되지 않는 것을 보장하는 성질을 말합니다. 즉, 트랜잭션에서 정의된 연산들은 모두 성공적으로 실행되거나 전혀 실행되지 않아야 한다는 것(All or Nothing)을 의미합니다. 예를 들어 인터넷 뱅킹으로 송금을 한다면 나의 계좌에서 금액이 차감되고 상대방의 계좌에서는 금액이 증가합니다. 두 연산은 모두 수행되어야하며, 중간에 오류가 발생한다면 ROLLBACK되어 모든 연산이 수행되지 않은 상태로 돌아가게 됩니다.</p>

<p><code class="language-plaintext highlighter-rouge">일관성</code>은 트랜잭션이 실행되기 전과 후의 데이터베이스 상태가 일관되어야 한다는 성질을 말합니다. 예를 들어 송금을 하기 위해서는 수신자와 발신자의 데이터가 모두 입력되어야 하는 제약사항을 가지는데, 수신자의 계좌번호를 입력하지 않는다면 데이터베이스의 일관성이 변하게 되므로 트랜잭션이 수행되지 않습니다.</p>

<p><code class="language-plaintext highlighter-rouge">격리성</code>은 모든 트랜잭션은 다른 트랜잭션으로부터 독립된다는 성질을 말합니다. 예를 들어 내 계좌에 10,000원이 있고 두 사람에게 동시에 6,000원씩 이체한다면 한꺼번에 12,000원이 송금되는 것이 아니라 첫번재 사람에게 먼저 송금 트랜잭션이 수행되고 순차적으로 2번째 사람에게 송금 트랜잭션이 수행됩니다. 이때 계좌의 금액은 0원 이상이 되어야 한다는 일관성이 유지되어야 하므로 2번째 송금은 수행되지 않습니다.</p>

<p><code class="language-plaintext highlighter-rouge">영속성</code>은 트랜잭션이 성공적으로 수행될 경우 그 결과는 영구적으로 데이터베이스에 저장되는 성질을 말합니다. 송금 트랜잭션이 성공적으로 수행되었다면 송금 시스템이 재부팅 되더라도 송금 결과는 변하지 않아야 합니다.</p>

<h3 id="트랜잭션의-격리성-수준">트랜잭션의 격리성 수준</h3>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!-- 
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Rubisco's Programming Note</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
             -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- utterances -->
            <div id="comment">
                <script src="https://utteranc.es/client.js"
                repo="huimang2/huimang2.github.io"
                issue-term="pathname"
                theme="github-light"
                crossorigin="anonymous"
                async></script>
            </div>
        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/M31_starspike.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Rubisco's Programming Note &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/sql/">Sql</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sql/transaction">SQL - 트랜잭션(Transaction)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sql/concept">SQL - 데이터 모델의 이해</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/sql/">
                                
                                    See all 2 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/sql/transaction">
                <div class="post-card-image" style="background-image: url(/assets/images/sql-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/sql/transaction">
                <header class="post-card-header">
                    
                        <div class="post-card-tags-container">
                            
                        </div>
                    

                    <h2 class="post-card-title">SQL - 트랜잭션(Transaction)</h2>
                </header>
                <!-- <section class="post-card-excerpt">
                    
                        <p>트랜잭션(Transaction)은 업무 처리를 위한 데이터베이스의 논리적인 작업 단위입니다. 하나의 트랜잭션은 한 개 이상의 연산으로 이루어질 수 있으며, 연산들은 완전히 처리되거나 하나도 처리되지 않아야 합니다.

</p>
                    
                </section> -->
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/sql/concept">
                <div class="post-card-image" style="background-image: url(/assets/images/sql-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/sql/concept">
                <header class="post-card-header">
                    
                        <div class="post-card-tags-container">
                            
                        </div>
                    

                    <h2 class="post-card-title">SQL - 데이터 모델의 이해</h2>
                </header>
                <!-- <section class="post-card-excerpt">
                    
                        <p>모델링(Modeling)이란?

</p>
                    
                </section> -->
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      5 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://huimang2.github.io/">
            
            <span>Rubisco's Programming Note</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">SQL - 데이터베이스(Database)</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=SQL+-+%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%28Database%29&amp;url=sql/database"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=sql/database"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>



        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://huimang2.github.io/">Rubisco's Programming Note</a> &copy; 2023</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search Rubisco's Programming Note</h1>
            <p class="subscribe-overlay-description">
            lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>


    <!-- highlight.js -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script> -->

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    /* toc ---------------------------------------------------------------------*/

    var tocTitle = document.getElementsByClassName("post-full-title")[0];
    var tocTitleY = window.pageYOffset + title.getBoundingClientRect().top;
    
    var tocArticle = document.getElementsByClassName("post-full-content")[0];
    var tocArticleY = window.pageYOffset + tocArticle.getBoundingClientRect().top;
  
    var toc = document.getElementById("toc");
    var tocHeaderNodes = getHeaderNodes(tocArticle);
    var tocNodes = getTOCNodes(toc);
  
    var tocBefore = undefined;

    function getTOCNodes(master) {
        var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
        var tocNodes = nodes.filter(function(elem) {
            return elem.tagName == "A";
        });
        return tocNodes;
    }
    
    function getHeaderNodes(master) {
        var nodes = Array.prototype.slice.call(master.getElementsByTagName("*"), 0);
        var headerNodes = nodes.filter(function(elem) {
            return elem.tagName == "H1" || elem.tagName == "H2" || elem.tagName == "H3" && !elem.classList.contains('no-toc');
        });
        return headerNodes;
    }

    tocNodes.forEach(el => {
        el.addEventListener('click', function(e){
            e.preventDefault();
            let id = this.getAttribute('href').slice(1);
            window.scrollTo(window.scrollX, window.scrollY + document.getElementById(id).getBoundingClientRect().top - 80);
        });
    });

    document.querySelector('.post-full-content').querySelectorAll('p a[href^="#"]').forEach(el => {
        el.addEventListener('click', function(e){
            e.preventDefault();
            let id = this.getAttribute('href').slice(1);
            window.scrollTo(window.scrollX, window.scrollY + document.getElementById(id).getBoundingClientRect().top - 80);
        });
    });

    /*--------------------------------------------------------------------------*/

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 30;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
            toc.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
            toc.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;

        // toc
        var tocCurrent = tocHeaderNodes.filter(function(header) {
            var headerY = window.pageYOffset + header.getBoundingClientRect().top;
            return window.scrollY >= headerY - 90;
        });
  
        if (tocCurrent.length > 0) {
            tocCurrent = tocCurrent[tocCurrent.length-1];
  
            var tocCurrentA = tocNodes.filter(function(tocNode) {
                return tocNode.getElementsByTagName("span")[0].innerHTML == tocCurrent.innerHTML;
            })
            
            tocCurrentA = tocCurrentA[0];

            if (tocCurrentA) {
                if (tocBefore == undefined) tocBefore = tocCurrentA;
    
                if (tocBefore != tocCurrentA) {
                    tocBefore.classList.remove("toc-active");
                    tocBefore = tocCurrentA;
                }
    
                tocCurrentA.classList.add("toc-active");
            }
            else {
                if (tocBefore) 
                    tocBefore.classList.remove("toc-active");
            }
        }
        else {
            if (tocBefore) 
                tocBefore.classList.remove("toc-active");
        }
        
        if(toc && tocArticle.getBoundingClientRect().bottom <= 0) {
            toc.classList.add('toc-hidden');
        } else {
            toc.classList.remove('toc-hidden');
        }
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
